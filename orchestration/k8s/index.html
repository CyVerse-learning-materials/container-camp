
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for container related workshop.">
      
      
        <meta name="author" content="CyVerse Science Team">
      
      
        <link rel="canonical" href="https://container-camp.cyverse.org/orchestration/k8s/">
      
      
        <link rel="prev" href="../../singularity/hpc/">
      
      
        <link rel="next" href="../advk8s/">
      
      
      <link rel="icon" href="../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.2">
    
    
      
        <title>Introduction to Kubernetes - Cloud Native Camp</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRegular:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Regular"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","UA-72224033-6"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","UA-72224033-6",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=UA-72224033-6",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lesson-1-introduction-to-kubernetes" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Cloud Native Camp" class="md-header__button md-logo" aria-label="Cloud Native Camp" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15 15H9v-1h6v1m0 1H9v1h6v-1m0 2H9v1h6v-1m8-4.5c0 1.25-.44 2.31-1.31 3.19-.88.87-1.94 1.31-3.19 1.31H18v4H6v-4.05c-1.3-.1-2.43-.59-3.39-1.52C1.54 15.38 1 14.09 1 12.58c0-1.3.39-2.46 1.17-3.48S4 7.43 5.25 7.15c.42-1.53 1.25-2.77 2.5-3.72S10.42 2 12 2c1.95 0 3.6.68 4.96 2.04C18.32 5.4 19 7.05 19 9c1.15.13 2.1.63 2.86 1.5.76.85 1.14 1.85 1.14 3M6 15.95V11h11V9c0-1.38-.5-2.56-1.46-3.54C14.56 4.5 13.38 4 12 4s-2.56.5-3.54 1.46C7.5 6.44 7 7.62 7 9h-.5c-.97 0-1.79.34-2.47 1.03-.69.68-1.03 1.5-1.03 2.47s.34 1.79 1.03 2.5c.56.54 1.22.85 1.97.95M16 13H8v7h8v-7m5 .5c0-.7-.24-1.29-.73-1.77S19.2 11 18.5 11H18v5h.5c.7 0 1.29-.24 1.77-.72S21 14.2 21 13.5Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cloud Native Camp
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Introduction to Kubernetes
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 2c-1.05 0-2.05.16-3 .46 4.06 1.27 7 5.04 7 9.54 0 4.5-2.94 8.27-7 9.54.95.3 1.95.46 3 .46a10 10 0 0 0 10-10A10 10 0 0 0 9 2Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/CyVerse-learning-materials/container-camp" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    CyVerse-learning-materials/container-camp
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../docker/intro/" class="md-tabs__link">
          
  
    
  
  Docker

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../singularity/intro/" class="md-tabs__link">
          
  
    
  
  Singularity

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
    
  
  Orchestration

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../cloud/js2/" class="md-tabs__link">
          
  
    
  
  Cloud Services

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../resources/vscode/" class="md-tabs__link">
          
  
    
  
  Useful Resources

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Cloud Native Camp" class="md-nav__button md-logo" aria-label="Cloud Native Camp" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15 15H9v-1h6v1m0 1H9v1h6v-1m0 2H9v1h6v-1m8-4.5c0 1.25-.44 2.31-1.31 3.19-.88.87-1.94 1.31-3.19 1.31H18v4H6v-4.05c-1.3-.1-2.43-.59-3.39-1.52C1.54 15.38 1 14.09 1 12.58c0-1.3.39-2.46 1.17-3.48S4 7.43 5.25 7.15c.42-1.53 1.25-2.77 2.5-3.72S10.42 2 12 2c1.95 0 3.6.68 4.96 2.04C18.32 5.4 19 7.05 19 9c1.15.13 2.1.63 2.86 1.5.76.85 1.14 1.85 1.14 3M6 15.95V11h11V9c0-1.38-.5-2.56-1.46-3.54C14.56 4.5 13.38 4 12 4s-2.56.5-3.54 1.46C7.5 6.44 7 7.62 7 9h-.5c-.97 0-1.79.34-2.47 1.03-.69.68-1.03 1.5-1.03 2.47s.34 1.79 1.03 2.5c.56.54 1.22.85 1.97.95M16 13H8v7h8v-7m5 .5c0-.7-.24-1.29-.73-1.77S19.2 11 18.5 11H18v5h.5c.7 0 1.29-.24 1.77-.72S21 14.2 21 13.5Z"/></svg>

    </a>
    Cloud Native Camp
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/CyVerse-learning-materials/container-camp" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    CyVerse-learning-materials/container-camp
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../.." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Home
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/code_conduct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code of Conduct
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/schedule/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Schedule
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pre-Camp Setup
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Docker
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Docker
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction to Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/registry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Finding the right container
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/build/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Building Docker Containers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/advanced/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced use of Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/actions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub Actions and Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/compose/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running multi-container Applications
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Singularity
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Singularity
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../singularity/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction to Singularity
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../singularity/advanced/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced use of Singularity
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../singularity/hpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Singularity on HPC/HTC
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Orchestration
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Orchestration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Introduction to Kubernetes
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Introduction to Kubernetes
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#k8s-cli-kubectl" class="md-nav__link">
    <span class="md-ellipsis">
      K8s CLI kubectl
    </span>
  </a>
  
    <nav class="md-nav" aria-label="K8s CLI kubectl">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-kubectl" class="md-nav__link">
    <span class="md-ellipsis">
      Install kubectl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubeconfig" class="md-nav__link">
    <span class="md-ellipsis">
       kubeconfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label="kubeconfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#config" class="md-nav__link">
    <span class="md-ellipsis">
      config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-up-the-namespace" class="md-nav__link">
    <span class="md-ellipsis">
      Setting up the namespace
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pods" class="md-nav__link">
    <span class="md-ellipsis">
       pods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#launching-a-pod" class="md-nav__link">
    <span class="md-ellipsis">
      Launching a Pod
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pod-networking" class="md-nav__link">
    <span class="md-ellipsis">
      Pod networking
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#taking-down-a-pod" class="md-nav__link">
    <span class="md-ellipsis">
      Taking down a Pod
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Create a Deployment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-a-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      Run a Dashboard
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Run a Dashboard">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-an-admin-dashboard-user" class="md-nav__link">
    <span class="md-ellipsis">
      create an admin dashboard user
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-read-only-dashboard-read-onlyyaml-user" class="md-nav__link">
    <span class="md-ellipsis">
      create a read-only dashboard-read-only.yaml user
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#start-the-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      Start the dashboard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-the-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      delete the dashboard
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advk8s/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced use of Kubernetes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../terra/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction to Terraform
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advterra/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced use of Terraform
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cacao/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CyVerse CACAO Interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cacao_terra/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CyVerse CACAO Terraform CLI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../registry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Manage private container registry
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Cloud Services
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Cloud Services
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/js2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jetstream-2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/openstack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenStack
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/codespaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub CodeSpaces
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/aws/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Amazon Web Services
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/azure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/gcp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Google Cloud Platform
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Useful Resources
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Useful Resources
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/vscode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VSCode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/singularity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Singularity
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/k8s/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/post/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Camp Discussion and Notes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#k8s-cli-kubectl" class="md-nav__link">
    <span class="md-ellipsis">
      K8s CLI kubectl
    </span>
  </a>
  
    <nav class="md-nav" aria-label="K8s CLI kubectl">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-kubectl" class="md-nav__link">
    <span class="md-ellipsis">
      Install kubectl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kubeconfig" class="md-nav__link">
    <span class="md-ellipsis">
       kubeconfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label="kubeconfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#config" class="md-nav__link">
    <span class="md-ellipsis">
      config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-up-the-namespace" class="md-nav__link">
    <span class="md-ellipsis">
      Setting up the namespace
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pods" class="md-nav__link">
    <span class="md-ellipsis">
       pods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#launching-a-pod" class="md-nav__link">
    <span class="md-ellipsis">
      Launching a Pod
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pod-networking" class="md-nav__link">
    <span class="md-ellipsis">
      Pod networking
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#taking-down-a-pod" class="md-nav__link">
    <span class="md-ellipsis">
      Taking down a Pod
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Create a Deployment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-a-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      Run a Dashboard
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Run a Dashboard">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-an-admin-dashboard-user" class="md-nav__link">
    <span class="md-ellipsis">
      create an admin dashboard user
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-read-only-dashboard-read-onlyyaml-user" class="md-nav__link">
    <span class="md-ellipsis">
      create a read-only dashboard-read-only.yaml user
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#start-the-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      Start the dashboard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-the-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      delete the dashboard
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="lesson-1-introduction-to-kubernetes">Lesson 1: Introduction to Kubernetes<a class="headerlink" href="#lesson-1-introduction-to-kubernetes" title="Permanent link">&para;</a></h1>
<div class="admonition info">
<p class="admonition-title">Learning Objectives</p>
<ul>
<li>Understand what Kubernetes is and its role in managing containerized applications</li>
<li>Recognize the importance and benefits of using Kubernetes in cloud computing</li>
<li>Identify reasons why you may need to use Kubernetes for your own research or projects</li>
<li>Learn about the existence of Kubernetes clusters and how to leverage them using <code>kubectl</code></li>
</ul>
</div>
<p><a href="https://kubernetes.io/docs/concepts/overview/what-is-kubernetes/" target="_blank"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13.95 13.5h-.23c-.18.11-.26.32-.18.5l.86 2.11c.83-.53 1.46-1.32 1.79-2.25l-2.23-.36h-.01m-3.45.29a.415.415 0 0 0-.38-.29h-.08l-2.22.37c.33.92.96 1.7 1.79 2.23l.85-2.07V14c.04-.05.04-.14.04-.21m1.83.81a.378.378 0 0 0-.51-.15c-.07.05-.12.08-.15.15h-.01l-1.09 1.97c.78.26 1.62.31 2.43.12.14-.03.29-.07.43-.12l-1.09-1.97h-.01m3.45-4.57L14.1 11.5l.01.03a.37.37 0 0 0-.04.53c.05.06.11.1.18.12l.01.01 2.17.62c.07-.97-.14-1.95-.65-2.78m-3.11.16c.01.21.18.37.39.36.08 0 .15-.02.21-.05h.01l1.83-1.31a4.45 4.45 0 0 0-2.57-1.24l.13 2.24m-1.94.31c.17.11.4.08.52-.09.05-.06.07-.13.08-.21h.01l.12-2.25c-.15.02-.3.05-.46.08-.8.18-1.54.58-2.12 1.16l1.84 1.31h.01m-.99 1.69c.2-.05.32-.26.26-.46 0-.08-.05-.14-.11-.19v-.01L8.21 10c-.52.86-.74 1.84-.63 2.82l2.16-.62v-.01m1.64.66.62.3.62-.3.15-.67-.43-.53h-.69l-.43.53.16.67m10.89 1.32L20.5 6.5c-.09-.42-.37-.76-.74-.94l-7.17-3.43c-.37-.17-.81-.17-1.19 0L4.24 5.56c-.37.18-.65.52-.74.94l-1.77 7.67c-.05.2-.05.4 0 .59.01.06.03.12.05.18.03.09.08.19.13.27.03.04.05.08.09.11l4.95 6.18c.02 0 .05.04.05.06.1.09.19.16.28.22.12.08.26.14.4.17.11.05.23.05.32.05h8.12c.07 0 .14-.03.2-.05.05-.01.1-.03.14-.04.04-.02.07-.03.11-.05.05-.02.1-.05.15-.08.12-.08.23-.18.33-.28l.15-.2 4.8-5.98c.1-.12.17-.25.22-.38.02-.06.04-.12.05-.18.05-.19.05-.4 0-.59m-7.43 2.99c.02.06.04.12.07.17-.04.08-.06.17-.03.26.12.24.23.46.38.68.08.11.16.23.24.34 0 .03.03.08.04.12.12.2.06.46-.15.59s-.47.05-.59-.15c-.01-.03-.02-.05-.03-.08-.02-.03-.04-.09-.06-.09-.05-.15-.09-.28-.12-.41-.09-.25-.17-.49-.3-.72a.375.375 0 0 0-.21-.14l-.08-.16c-1.29.48-2.7.48-3.97-.01l-.1.18c-.07.01-.14.04-.19.09-.14.24-.24.49-.33.77-.03.13-.07.26-.12.4-.02 0-.04.07-.06.1a.43.43 0 0 1-.81-.29c.01-.03.03-.05.04-.08.04-.03.04-.08.04-.11.09-.12.16-.23.24-.35.16-.21.29-.45.39-.69a.54.54 0 0 0-.03-.25l.07-.18a5.611 5.611 0 0 1-2.47-3.09l-.2.03a.388.388 0 0 0-.23-.09c-.27.05-.51.13-.77.22-.11.06-.24.11-.37.15-.03.01-.07.02-.13.03a.438.438 0 0 1-.54-.27c-.07-.23.04-.47.28-.55.02 0 .05-.01.08-.01v-.01h.01l.11-.02c.14-.04.28-.04.41-.04.26 0 .52-.06.77-.12.08-.05.14-.11.19-.19l.19-.05c-.21-1.36.1-2.73.86-3.87l-.14-.12c0-.09-.03-.18-.08-.25-.2-.17-.41-.32-.64-.45-.12-.06-.24-.13-.36-.21-.02-.02-.06-.05-.08-.07l-.01-.01c-.2-.16-.25-.42-.11-.63.09-.1.21-.15.35-.15.11.01.21.05.3.12l.09.07c.1.09.19.2.28.3.18.19.37.37.58.52.08.04.17.05.26.03l.15.11c.75-.8 1.73-1.36 2.8-1.6.25-.06.52-.1.78-.12l.01-.18a.45.45 0 0 0 .14-.23c.01-.26-.01-.52-.05-.77-.03-.13-.05-.27-.06-.41V5.1c-.02-.24.15-.45.39-.48s.44.15.47.38v.22c-.01.14-.03.28-.06.41-.04.25-.06.51-.05.77.02.1.07.17.14.22l.01.19c1.36.12 2.62.73 3.56 1.72l.16-.12c.09.02.18.01.26-.03.21-.15.41-.33.58-.52.09-.1.18-.2.28-.3.03-.02.07-.06.1-.06.17-.18.44-.18.59 0 .19.16.18.43 0 .6 0 .02-.03.04-.06.06a2.495 2.495 0 0 1-.44.28c-.23.13-.45.28-.64.45-.06.07-.09.15-.08.24l-.16.14a5.44 5.44 0 0 1 .88 3.86l.19.05c.04.08.11.14.19.18.25.07.51.11.77.14h.41c.03.03.08.04.12.05.24.03.4.25.37.49-.05.23-.24.4-.48.37-.03-.01-.07-.01-.07-.02v-.01c-.06 0-.1-.01-.14-.02-.13-.04-.25-.09-.36-.15-.26-.1-.5-.17-.77-.21-.09 0-.17 0-.23.08-.07-.01-.13-.02-.19-.03-.41 1.31-1.31 2.41-2.47 3.11Z"/></svg></span> Kubernetes</a>, or <code>K8s</code> for short, is an open-source system designed to automate the deployment, scaling, and management of containerized applications. </p>
<p>K8s is the most prevalent platform for managing containerized applications at scale in the realm of cloud computing. If you're considering incorporating containers into your research or project portfolio, it's highly likely you have already interacted with or will interact with a K8s cluster in the future.</p>
<p>In this introductory lesson, we'll focus on how to leverage <em>existing</em> Kubernetes Clusters using <code>kubectl</code>.</p>
<details class="question">
<summary><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m10.204 14.35.007.01-.999 2.413a5.171 5.171 0 0 1-2.075-2.597l2.578-.437.004.005a.44.44 0 0 1 .484.606zm-.833-2.129a.44.44 0 0 0 .173-.756l.002-.011L7.585 9.7a5.143 5.143 0 0 0-.73 3.255l2.514-.725.002-.009zm1.145-1.98a.44.44 0 0 0 .699-.337l.01-.005.15-2.62a5.144 5.144 0 0 0-3.01 1.442l2.147 1.523.004-.002zm.76 2.75.723.349.722-.347.18-.78-.5-.623h-.804l-.5.623.179.779zm1.5-3.095a.44.44 0 0 0 .7.336l.008.003 2.134-1.513a5.188 5.188 0 0 0-2.992-1.442l.148 2.615.002.001zm10.876 5.97-5.773 7.181a1.6 1.6 0 0 1-1.248.594l-9.261.003a1.6 1.6 0 0 1-1.247-.596l-5.776-7.18a1.583 1.583 0 0 1-.307-1.34L2.1 5.573c.108-.47.425-.864.863-1.073L11.305.513a1.606 1.606 0 0 1 1.385 0l8.345 3.985c.438.209.755.604.863 1.073l2.062 8.955c.108.47-.005.963-.308 1.34zm-3.289-2.057c-.042-.01-.103-.026-.145-.034-.174-.033-.315-.025-.479-.038-.35-.037-.638-.067-.895-.148-.105-.04-.18-.165-.216-.216l-.201-.059a6.45 6.45 0 0 0-.105-2.332 6.465 6.465 0 0 0-.936-2.163c.052-.047.15-.133.177-.159.008-.09.001-.183.094-.282.197-.185.444-.338.743-.522.142-.084.273-.137.415-.242.032-.024.076-.062.11-.089.24-.191.295-.52.123-.736-.172-.216-.506-.236-.745-.045-.034.027-.08.062-.111.088-.134.116-.217.23-.33.35-.246.25-.45.458-.673.609-.097.056-.239.037-.303.033l-.19.135a6.545 6.545 0 0 0-4.146-2.003l-.012-.223c-.065-.062-.143-.115-.163-.25-.022-.268.015-.557.057-.905.023-.163.061-.298.068-.475.001-.04-.001-.099-.001-.142 0-.306-.224-.555-.5-.555-.275 0-.499.249-.499.555l.001.014c0 .041-.002.092 0 .128.006.177.044.312.067.475.042.348.078.637.056.906a.545.545 0 0 1-.162.258l-.012.211a6.424 6.424 0 0 0-4.166 2.003 8.373 8.373 0 0 1-.18-.128c-.09.012-.18.04-.297-.029-.223-.15-.427-.358-.673-.608-.113-.12-.195-.234-.329-.349a2.691 2.691 0 0 0-.111-.088.594.594 0 0 0-.348-.132.481.481 0 0 0-.398.176c-.172.216-.117.546.123.737l.007.005.104.083c.142.105.272.159.414.242.299.185.546.338.743.522.076.082.09.226.1.288l.16.143a6.462 6.462 0 0 0-1.02 4.506l-.208.06c-.055.072-.133.184-.215.217-.257.081-.546.11-.895.147-.164.014-.305.006-.48.039-.037.007-.09.02-.133.03l-.004.002-.007.002c-.295.071-.484.342-.423.608.061.267.349.429.645.365l.007-.001.01-.003.129-.029c.17-.046.294-.113.448-.172.33-.118.604-.217.87-.256.112-.009.23.069.288.101l.217-.037a6.5 6.5 0 0 0 2.88 3.596l-.09.218c.033.084.069.199.044.282-.097.252-.263.517-.452.813-.091.136-.185.242-.268.399-.02.037-.045.095-.064.134-.128.275-.034.591.213.71.248.12.556-.007.69-.282v-.002c.02-.039.046-.09.062-.127.07-.162.094-.301.144-.458.132-.332.205-.68.387-.897.05-.06.13-.082.215-.105l.113-.205a6.453 6.453 0 0 0 4.609.012l.106.192c.086.028.18.042.256.155.136.232.229.507.342.84.05.156.074.295.145.457.016.037.043.09.062.129.133.276.442.402.69.282.247-.118.341-.435.213-.71-.02-.039-.045-.096-.065-.134-.083-.156-.177-.261-.268-.398-.19-.296-.346-.541-.443-.793-.04-.13.007-.21.038-.294-.018-.022-.059-.144-.083-.202a6.499 6.499 0 0 0 2.88-3.622c.064.01.176.03.213.038.075-.05.144-.114.28-.104.266.039.54.138.87.256.154.06.277.128.448.173.036.01.088.019.13.028l.009.003.007.001c.297.064.584-.098.645-.365.06-.266-.128-.537-.423-.608zM16.4 9.701l-1.95 1.746v.005a.44.44 0 0 0 .173.757l.003.01 2.526.728a5.199 5.199 0 0 0-.108-1.674A5.208 5.208 0 0 0 16.4 9.7zm-4.013 5.325a.437.437 0 0 0-.404-.232.44.44 0 0 0-.372.233h-.002l-1.268 2.292a5.164 5.164 0 0 0 3.326.003l-1.27-2.296h-.01zm1.888-1.293a.44.44 0 0 0-.27.036.44.44 0 0 0-.214.572l-.003.004 1.01 2.438a5.15 5.15 0 0 0 2.081-2.615l-2.6-.44-.004.005z"/></svg></span> K8s vs <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.46 2.172H2.54A2.548 2.548 0 0 0 0 4.712v14.575a2.548 2.548 0 0 0 2.54 2.54h18.92a2.548 2.548 0 0 0 2.54-2.54V4.713a2.548 2.548 0 0 0-2.54-2.54ZM10.14 16.465 5.524 19.15a1.235 1.235 0 1 1-1.242-2.137L8.9 14.33a1.235 1.235 0 1 1 1.241 2.136zm1.817-4.088h-.006a1.235 1.235 0 0 1-1.23-1.24l.023-5.32a1.236 1.236 0 0 1 1.236-1.23h.005a1.235 1.235 0 0 1 1.23 1.241l-.023 5.32a1.236 1.236 0 0 1-1.235 1.23zm8.17 6.32a1.235 1.235 0 0 1-1.688.453l-4.624-2.67a1.235 1.235 0 1 1 1.235-2.14l4.624 2.67a1.235 1.235 0 0 1 .452 1.688z"/></svg></span> K3s</summary>
<p>We are going to be using a platform developed by a project named <a href="https://www.rancher.com/" target="_blank"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22.727 9.007a.713.713 0 0 1-.726.855h-1.542V8.798h.468a.883.883 0 0 0 .875-.875v-.388c0-.477.12-.875.269-.875.139 0 .328.388.407.865l.249 1.482zm-3.49-1.253c.486 0 .874.388.894.885v4.555a.883.883 0 0 1-.875.875h-2.357a.883.883 0 0 1-.875-.875v-1.79a.871.871 0 0 0-.348.696v1.502c0 .477.397.875.875.875h1.531v2.327a.535.535 0 0 1-.537.538h-2.884a.535.535 0 0 1-.537-.538v-2.168a.535.535 0 0 0-.537-.537h-7.2a.535.535 0 0 0-.538.537v2.168a.535.535 0 0 1-.537.538H2.428a.535.535 0 0 1-.537-.538V10.58L.588 11.603c-.06.04-.14.04-.189-.02l-.368-.438a.135.135 0 0 1-.01-.159l1.91-2.914a.536.536 0 0 1 .487-.318h10.165a.54.54 0 0 1 .527.627l-.21 1.243a.54.54 0 0 0 .528.626h2.039a.535.535 0 0 0 .527-.437c-.13.04-.269.06-.418.06h-1.452c-.487 0-.815-.388-.736-.866l.249-1.482c.08-.477.258-.865.407-.865.15 0 .269.398.269.875v.229c.02-.01.05-.01.08-.01h4.843zm3.65-.537c0-.388.288-.557.556-.557.269 0 .557.17.557.557 0 .378-.288.547-.557.547-.268 0-.557-.17-.557-.547zm.984 0c0-.308-.2-.438-.418-.438-.219 0-.428.13-.428.438 0 .298.21.438.428.438.219-.01.418-.14.418-.438zm-.607-.279h.199c.1 0 .199.03.199.17 0 .08-.06.129-.13.149l.13.228h-.12l-.119-.218h-.05v.218h-.109v-.547zm.199.25c.05 0 .09-.03.09-.08 0-.06-.05-.07-.09-.07h-.1v.15h.1z"/></svg></span> Rancher</a>, called <a href="https://k3s.io/" target="_blank"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.46 2.172H2.54A2.548 2.548 0 0 0 0 4.712v14.575a2.548 2.548 0 0 0 2.54 2.54h18.92a2.548 2.548 0 0 0 2.54-2.54V4.713a2.548 2.548 0 0 0-2.54-2.54ZM10.14 16.465 5.524 19.15a1.235 1.235 0 1 1-1.242-2.137L8.9 14.33a1.235 1.235 0 1 1 1.241 2.136zm1.817-4.088h-.006a1.235 1.235 0 0 1-1.23-1.24l.023-5.32a1.236 1.236 0 0 1 1.236-1.23h.005a1.235 1.235 0 0 1 1.23 1.241l-.023 5.32a1.236 1.236 0 0 1-1.235 1.23zm8.17 6.32a1.235 1.235 0 0 1-1.688.453l-4.624-2.67a1.235 1.235 0 1 1 1.235-2.14l4.624 2.67a1.235 1.235 0 0 1 .452 1.688z"/></svg></span> K3s</a>.</p>
<p>K3s is a lightweight certified Kubernetes distribution designed for edge and production workloads.  </p>
<p>K3s uses the same <code>kubectl</code> and <code>helm</code> commands as full K8s. </p>
<p>We prefer K3s to K8s for our virtual machines and for workshops for the same reason you might prefer to use <a href="https://www.alpinelinux.org/" target="_blank">Alpine Linux</a> to <a href="https://ubuntu.com/" target="_blank">Ubuntu Linux</a> in a simple container deployment.</p>
</details>
<details class="question">
<summary>What is container orchestration?</summary>
<p><a href="https://www.redhat.com/en/topics/containers/what-is-container-orchestration">Container orchestration</a> is the process of automating the deployment, scaling, management, and coordination of containerized applications. In the context of Kubernetes, container orchestration involves managing the lifecycle of containers within a cluster. This includes tasks such as deploying containers, ensuring high availability, distributing network traffic, scaling applications up or down based on demand, and handling updates seamlessly.</p>
</details>
<details class="question">
<summary><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 3c-1.27 0-2.4.8-2.82 2H3v2h1.95L2 14c-.47 2 1 3 3.5 3s4.06-1 3.5-3L6.05 7h3.12c.33.85.98 1.5 1.83 1.83V20H2v2h20v-2h-9V8.82c.85-.32 1.5-.97 1.82-1.82h3.13L15 14c-.47 2 1 3 3.5 3s4.06-1 3.5-3l-2.95-7H21V5h-6.17C14.4 3.8 13.27 3 12 3m0 2a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m-6.5 5.25L7 14H4l1.5-3.75m13 0L20 14h-3l1.5-3.75Z"/></svg></span> Why would you want to build your own K8s Cluster? </summary>
<p>You're here to learn about containerized applications and container orchestration. We aim to familiarize you with these technologies and help you understand their place in the roadmap of Cloud Native Computing. However, it's crucial to note,</p>
<p><img alt="⚠" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/26a0.svg" title=":warning:" /> <strong>Designing, deploying, and maintaining your own K8s cluster can be a complex and challenging task</strong> <img alt="⚠" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/26a0.svg" title=":warning:" /></p>
<ul>
<li>This is partly because there are numerous existing platforms out there, such as managed K8s services. Additionally, managing K8s requires a dedicated DevOps or software engineering team to ensure your platform operates smoothly.</li>
</ul>
<p>Still interested in building your own cluster? Here are some reasons why you might need to use K8s for your research or project:</p>
<p>(1) Your applications consist of multiple services. The K8s API automates the tasks of managing numerous containers and allocating resources. </p>
<p>(2) Your work scales dynamically - if your computing needs fluctuate based on workloads, K8s can be useful. Using containers to scale your applications is more efficient than manually launching VMs.</p>
<p>(3) You have too many containers to manage - K8s excels at its primary function: managing and maintaining containers. </p>
<p>(4) Your domain is transitioning to the cloud. If your field is moving towards being cloud-native, it's crucial to develop workflows in anticipation of this shift.</p>
<p>(5) Consistency is key. K8s' declarative state provides a clear description of how everything is managed.</p>
</details>
<div class="admonition info">
<p class="admonition-title">Kubernetes Terminology</p>
<p><strong>Kubernetes Cluster</strong>: A collection of nodes that run containerized applications. This is the primary unit of organization in Kubernetes.</p>
<p><strong>kubectl</strong>: The command-line interface used for interacting with Kubernetes clusters. It enables users to manage various aspects of the cluster.</p>
<p><strong>Pod</strong>: The smallest deployable unit in Kubernetes, which can consist of one or more containers that communicate with each other. Pods are run on nodes.</p>
<p><strong>Node</strong>: Typically a virtual machine (VM) that runs Kubernetes components, including the kubelet, kube-proxy, and container runtime.</p>
<p><strong>Kubelet</strong>: The agent that runs on each node, responsible for managing the pods on its respective VM.</p>
<p><strong>Kube-proxy</strong>: A network proxy that runs on each node, used by a Service to handle network communication.</p>
<p><strong>Container runtime</strong>: The software that runs containers within pods. Examples include <code>Docker</code>, <code>containerd</code> (native to Kubernetes), and <code>CRI-O</code>.</p>
<p><strong>Service</strong>: Assigns a network address to an application, including a persistent IP address and a DNS entry within the cluster. A Service also manages load balancing across pods and can dynamically add or remove them.</p>
<p><strong>ReplicaSet</strong>: Allows for the creation of multiple pods simultaneously, ensuring that a specified number of identical pods are running at any given time.</p>
<p><strong>Deployment</strong>: Provides declarative updates for Pods and ReplicaSets, allowing for rolling updates and rollbacks.</p>
<p><strong>Control Plane</strong>: A node that manages worker nodes. It consists of the API server, cluster store, controller manager, and scheduler.</p>
<p><strong>Namespace</strong>: A way to divide cluster resources between multiple users.</p>
<p><strong>Ingress</strong>: An API object that manages external access to the services in a cluster, typically HTTP.</p>
<p><strong>Persistent Volume (PV)</strong>: A piece of storage in the cluster that has been provisioned by an administrator.</p>
<p><strong>Persistent Volume Claim (PVC)</strong>: A request for storage by a user.</p>
<p><strong>ConfigMap</strong>: An API object used to store non-confidential data in key-value pairs.</p>
<p><strong>Secret</strong>: An API object used to store sensitive data, like passwords and keys.</p>
</div>
<div class="admonition question">
<p class="admonition-title">So, what does a K8s Cluster look like?</p>
<p>In short, this:</p>
<p><a href="https://kubernetes.io/docs/concepts/overview/components/"><img alt="k8s cluster" src="https://d33wubrfki0l68.cloudfront.net/2475489eaf20163ec0f54ddc1d92aa8d4c87c96b/e7c81/images/docs/components-of-kubernetes.svg" /></a></p>
<p>The image above is taken from the official <a href="https://kubernetes.io/docs/concepts/overview/components/">K8s documentation</a> and depics the relation between each component.</p>
<p>A K8s cluster comprises of multiple elemets essentially groupable in 2 subsets:</p>
<ul>
<li>The <strong>Control Plane</strong> components:<ul>
<li><strong>api</strong> (K8s API): the front end of the control plane, it exposes the Kubernentes API. Command line tool: <a href="https://kubernetes.io/docs/reference/command-line-tools-reference/kube-apiserver/"><code>kube-apiserver</code></a>.</li>
<li><strong>etcd</strong>: a store used for backing cluster data (e.g., cluster cofiguration, state information). Controlled by the <a href="https://kubernetes.io/docs/reference/command-line-tools-reference/kube-apiserver/"><code>kube-apiserver</code></a> tool.</li>
<li><strong>sched</strong> (Scheduler): the component that watches for newly created Pods with no assigned node. Once a new Pod is detected, a node is assigned. Controlled by <a href="https://kubernetes.io/docs/reference/command-line-tools-reference/kube-scheduler/"><code>kube-scheduler</code></a>.</li>
<li><strong>c-m</strong> (Controller Manager): controls the <a href="https://kubernetes.io/docs/concepts/architecture/controller/">controllers</a> processes. Accessible through <a href="https://kubernetes.io/docs/reference/command-line-tools-reference/kube-controller-manager/"><code>kube-controller-manager</code></a></li>
<li><strong>c-c-m</strong> (Cloud Controller Manager): lets you to link your cluster to your provider's API, allowing you to choose what components interact with the external platform and which components interact with the internal cluster. Read more on the cloud controller manager <a href="https://kubernetes.io/docs/concepts/architecture/cloud-controller/">here</a>.</li>
</ul>
</li>
<li>The <strong>Node</strong> components:<ul>
<li><strong>kubelet</strong>: An agent that runs on each node in the cluster. It makes sure that containers are running in a Pod. <a href="https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/"><code>kubelet</code></a></li>
<li><strong>k-proxy</strong> (kube-proxy): maintains network rules on nodes. These network rules allow network communication to your Pods from network sessions inside or outside of your cluster. <a href="https://kubernetes.io/docs/reference/command-line-tools-reference/kube-proxy/"><code>kube-proxy</code></a></li>
</ul>
</li>
</ul>
</div>
<div class="admonition question">
<p class="admonition-title">We keep talking about Pods and Nodes, <em>what are Pods and Nodes?</em></p>
<p><a href="https://kubernetes.io/docs/concepts/workloads/pods/"><strong>Pods</strong></a></p>
<p><a href="https://kubernetes.io/docs/tutorials/kubernetes-basics/explore/explore-intro/"><img alt="pods" src="https://d33wubrfki0l68.cloudfront.net/fe03f68d8ede9815184852ca2a4fd30325e5d15a/98064/docs/tutorials/kubernetes-basics/public/images/module_03_pods.svg" /></a></p>
<p>A Pod is the smallest deployable unit in Kubernetes. It represents a single instance of a running process in a cluster and encapsulates one or more closely related containers. Containers within the same Pod share the same network namespace, IP address, and storage volumes, making them suitable for co-located and tightly coupled applications.</p>
<p>In the image above, we see 4 different Pods, each having at least one containerized app. Notice how each Pod has its own IP address, and apps within the same Pods share volumes for storage and IP address.</p>
<p><a href="https://kubernetes.io/docs/concepts/architecture/nodes/"><strong>Nodes</strong></a></p>
<p><a href="https://kubernetes.io/docs/tutorials/kubernetes-basics/explore/explore-intro/"><img alt="nodes" src="https://d33wubrfki0l68.cloudfront.net/5cb72d407cbe2755e581b6de757e0d81760d5b86/a9df9/docs/tutorials/kubernetes-basics/public/images/module_03_nodes.svg" /></a></p>
<p>A Node is a physical or virtual machine that runs containers. Nodes are the worker machines in a Kubernetes cluster where Pods are scheduled and executed. Nodes collectively form the computational resources of the cluster, where containers are scheduled and executed. The interaction between Pods and Nodes forms the core of how Kubernetes manages and distributes workloads within a cluster.</p>
<p>In the image, the Node contains different Pods. Notice <a href="https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/"><code>kubelet</code></a> and Docker: </p>
<ul>
<li><a href="https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/"><code>kubelet</code></a>  is a component that runs on each Node in a Kubernetes cluster and manages its life cycle, ensuring that the Node is healthy.</li>
<li>Docker provides the runtime environment for containers, whilst K8s manages the orchestration.</li>
</ul>
</div>
<h2 id="k8s-cli-kubectl">K8s CLI <code>kubectl</code><a class="headerlink" href="#k8s-cli-kubectl" title="Permanent link">&para;</a></h2>
<p>The Kubernetes API uses a command-line tool called <code>kubectl</code>.</p>
<p>Using K8s does not require you to own or maintain your own cluster. You can use the <code>kubectl</code> tool to connect to running clusters and start your containers.</p>
<h3 id="install-kubectl">Install <code>kubectl</code><a class="headerlink" href="#install-kubectl" title="Permanent link">&para;</a></h3>
<p><a href="https://kubernetes.io/docs/tasks/tools/" target="_blank">Official Documentation</a></p>
<p><code>kubectl</code> is already installed in CodeSpaces.</p>
<p>To install on Linux:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>curl -LO https://storage.googleapis.com/kubernetes-release/release/$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt)/bin/linux/amd64/kubectl
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>chmod +x kubectl
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>sudo mv ./kubectl /usr/local/bin/kubectl
</code></pre></div>
<h3 id="kubeconfig"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13.95 13.5h-.23c-.18.11-.26.32-.18.5l.86 2.11c.83-.53 1.46-1.32 1.79-2.25l-2.23-.36h-.01m-3.45.29a.415.415 0 0 0-.38-.29h-.08l-2.22.37c.33.92.96 1.7 1.79 2.23l.85-2.07V14c.04-.05.04-.14.04-.21m1.83.81a.378.378 0 0 0-.51-.15c-.07.05-.12.08-.15.15h-.01l-1.09 1.97c.78.26 1.62.31 2.43.12.14-.03.29-.07.43-.12l-1.09-1.97h-.01m3.45-4.57L14.1 11.5l.01.03a.37.37 0 0 0-.04.53c.05.06.11.1.18.12l.01.01 2.17.62c.07-.97-.14-1.95-.65-2.78m-3.11.16c.01.21.18.37.39.36.08 0 .15-.02.21-.05h.01l1.83-1.31a4.45 4.45 0 0 0-2.57-1.24l.13 2.24m-1.94.31c.17.11.4.08.52-.09.05-.06.07-.13.08-.21h.01l.12-2.25c-.15.02-.3.05-.46.08-.8.18-1.54.58-2.12 1.16l1.84 1.31h.01m-.99 1.69c.2-.05.32-.26.26-.46 0-.08-.05-.14-.11-.19v-.01L8.21 10c-.52.86-.74 1.84-.63 2.82l2.16-.62v-.01m1.64.66.62.3.62-.3.15-.67-.43-.53h-.69l-.43.53.16.67m10.89 1.32L20.5 6.5c-.09-.42-.37-.76-.74-.94l-7.17-3.43c-.37-.17-.81-.17-1.19 0L4.24 5.56c-.37.18-.65.52-.74.94l-1.77 7.67c-.05.2-.05.4 0 .59.01.06.03.12.05.18.03.09.08.19.13.27.03.04.05.08.09.11l4.95 6.18c.02 0 .05.04.05.06.1.09.19.16.28.22.12.08.26.14.4.17.11.05.23.05.32.05h8.12c.07 0 .14-.03.2-.05.05-.01.1-.03.14-.04.04-.02.07-.03.11-.05.05-.02.1-.05.15-.08.12-.08.23-.18.33-.28l.15-.2 4.8-5.98c.1-.12.17-.25.22-.38.02-.06.04-.12.05-.18.05-.19.05-.4 0-.59m-7.43 2.99c.02.06.04.12.07.17-.04.08-.06.17-.03.26.12.24.23.46.38.68.08.11.16.23.24.34 0 .03.03.08.04.12.12.2.06.46-.15.59s-.47.05-.59-.15c-.01-.03-.02-.05-.03-.08-.02-.03-.04-.09-.06-.09-.05-.15-.09-.28-.12-.41-.09-.25-.17-.49-.3-.72a.375.375 0 0 0-.21-.14l-.08-.16c-1.29.48-2.7.48-3.97-.01l-.1.18c-.07.01-.14.04-.19.09-.14.24-.24.49-.33.77-.03.13-.07.26-.12.4-.02 0-.04.07-.06.1a.43.43 0 0 1-.81-.29c.01-.03.03-.05.04-.08.04-.03.04-.08.04-.11.09-.12.16-.23.24-.35.16-.21.29-.45.39-.69a.54.54 0 0 0-.03-.25l.07-.18a5.611 5.611 0 0 1-2.47-3.09l-.2.03a.388.388 0 0 0-.23-.09c-.27.05-.51.13-.77.22-.11.06-.24.11-.37.15-.03.01-.07.02-.13.03a.438.438 0 0 1-.54-.27c-.07-.23.04-.47.28-.55.02 0 .05-.01.08-.01v-.01h.01l.11-.02c.14-.04.28-.04.41-.04.26 0 .52-.06.77-.12.08-.05.14-.11.19-.19l.19-.05c-.21-1.36.1-2.73.86-3.87l-.14-.12c0-.09-.03-.18-.08-.25-.2-.17-.41-.32-.64-.45-.12-.06-.24-.13-.36-.21-.02-.02-.06-.05-.08-.07l-.01-.01c-.2-.16-.25-.42-.11-.63.09-.1.21-.15.35-.15.11.01.21.05.3.12l.09.07c.1.09.19.2.28.3.18.19.37.37.58.52.08.04.17.05.26.03l.15.11c.75-.8 1.73-1.36 2.8-1.6.25-.06.52-.1.78-.12l.01-.18a.45.45 0 0 0 .14-.23c.01-.26-.01-.52-.05-.77-.03-.13-.05-.27-.06-.41V5.1c-.02-.24.15-.45.39-.48s.44.15.47.38v.22c-.01.14-.03.28-.06.41-.04.25-.06.51-.05.77.02.1.07.17.14.22l.01.19c1.36.12 2.62.73 3.56 1.72l.16-.12c.09.02.18.01.26-.03.21-.15.41-.33.58-.52.09-.1.18-.2.28-.3.03-.02.07-.06.1-.06.17-.18.44-.18.59 0 .19.16.18.43 0 .6 0 .02-.03.04-.06.06a2.495 2.495 0 0 1-.44.28c-.23.13-.45.28-.64.45-.06.07-.09.15-.08.24l-.16.14a5.44 5.44 0 0 1 .88 3.86l.19.05c.04.08.11.14.19.18.25.07.51.11.77.14h.41c.03.03.08.04.12.05.24.03.4.25.37.49-.05.23-.24.4-.48.37-.03-.01-.07-.01-.07-.02v-.01c-.06 0-.1-.01-.14-.02-.13-.04-.25-.09-.36-.15-.26-.1-.5-.17-.77-.21-.09 0-.17 0-.23.08-.07-.01-.13-.02-.19-.03-.41 1.31-1.31 2.41-2.47 3.11Z"/></svg></span> kubeconfig<a class="headerlink" href="#kubeconfig" title="Permanent link">&para;</a></h3>
<p>K8s uses YAML files for configuring a cluster. </p>
<p>The <code>config</code> file is required to make the handshake between the K8s Cluster and external requests, like the one you're making from your local computer or CodeSpace.</p>
<h4 id="config"><code>config</code><a class="headerlink" href="#config" title="Permanent link">&para;</a></h4>
<p>To connect to a running K8s cluster, you need to create a <code>config</code> (.yaml) and place it in the <code>~/.kube/</code> folder.</p>
<p>In our demo <a href="https://k3s.io/" target="_blank">K3s</a> cluster, the <code>config</code> file is maintained in the <code>/etc/rancher/k3s/k3s.yaml</code>. You can copy the file to  <code>~/.kube/config</code> or create a symlink. </p>
<details class="info">
<summary> example <code>config</code> file</summary>
<p>Example of the <code>~/.kube/config</code> file which is used for K3s</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>apiVersion: v1
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>clusters:
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>- cluster:
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>    certificate-authority-data: &lt;REDACTED&gt;
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>    server: https://127.0.0.1:6443
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>  name: default
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>contexts:
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>- context:
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>    cluster: default
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>    user: default
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>  name: default
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>current-context: default
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>kind: Config
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>preferences: {}
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>users:
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>- name: default
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>  user:
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>    client-certificate-data: &lt;REDACTED&gt;
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a>    client-key-data: &lt;REDACTED&gt;
</code></pre></div>
</details>
<ol>
<li>
<p>Copy the <code>~/.kube/config</code> file from your cluster or use our example here over to your localhost or VM and put it into a temporary directory.</p>
</li>
<li>
<p>Make a second copy and put it into your own <code>~/.kube/config</code> folder</p>
</li>
</ol>
<p>By default, the <code>config</code> file is in the <code>~/.kube/</code> directory, but it can be put anywhere or given any name, use the <code>--kubeconfig</code> flag to tell <code>kubectl</code> where to get the config:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>kubectl --kubeconfig /custom/path/kube.config get pods
</code></pre></div>
<h4 id="setting-up-the-namespace">Setting up the <code>namespace</code><a class="headerlink" href="#setting-up-the-namespace" title="Permanent link">&para;</a></h4>
<p><code>kubectl</code> needs to know the <code>namespace</code> of the cluster <code>config</code> you're working with. </p>
<p>In this first example today, we're going to be working locally on a K3s with a new <code>namespace</code> for each of the students (so we can differentiate whose pods are whose)</p>
<p>To set the context and namespace of the cluster:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>kubectl config set-context student##-cc23 --namespace=student##-cloudcamp23
</code></pre></div>
<p>where ## is your assigned student ID. If you're doing this lesson on your own time, you can choose your own unique context and namespace.</p>
<p>Once the <code>config</code> namespace is set, you should be ready to launch "pods" i.e. containers on the cluster</p>
<h3 id="pods"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13.95 13.5h-.23c-.18.11-.26.32-.18.5l.86 2.11c.83-.53 1.46-1.32 1.79-2.25l-2.23-.36h-.01m-3.45.29a.415.415 0 0 0-.38-.29h-.08l-2.22.37c.33.92.96 1.7 1.79 2.23l.85-2.07V14c.04-.05.04-.14.04-.21m1.83.81a.378.378 0 0 0-.51-.15c-.07.05-.12.08-.15.15h-.01l-1.09 1.97c.78.26 1.62.31 2.43.12.14-.03.29-.07.43-.12l-1.09-1.97h-.01m3.45-4.57L14.1 11.5l.01.03a.37.37 0 0 0-.04.53c.05.06.11.1.18.12l.01.01 2.17.62c.07-.97-.14-1.95-.65-2.78m-3.11.16c.01.21.18.37.39.36.08 0 .15-.02.21-.05h.01l1.83-1.31a4.45 4.45 0 0 0-2.57-1.24l.13 2.24m-1.94.31c.17.11.4.08.52-.09.05-.06.07-.13.08-.21h.01l.12-2.25c-.15.02-.3.05-.46.08-.8.18-1.54.58-2.12 1.16l1.84 1.31h.01m-.99 1.69c.2-.05.32-.26.26-.46 0-.08-.05-.14-.11-.19v-.01L8.21 10c-.52.86-.74 1.84-.63 2.82l2.16-.62v-.01m1.64.66.62.3.62-.3.15-.67-.43-.53h-.69l-.43.53.16.67m10.89 1.32L20.5 6.5c-.09-.42-.37-.76-.74-.94l-7.17-3.43c-.37-.17-.81-.17-1.19 0L4.24 5.56c-.37.18-.65.52-.74.94l-1.77 7.67c-.05.2-.05.4 0 .59.01.06.03.12.05.18.03.09.08.19.13.27.03.04.05.08.09.11l4.95 6.18c.02 0 .05.04.05.06.1.09.19.16.28.22.12.08.26.14.4.17.11.05.23.05.32.05h8.12c.07 0 .14-.03.2-.05.05-.01.1-.03.14-.04.04-.02.07-.03.11-.05.05-.02.1-.05.15-.08.12-.08.23-.18.33-.28l.15-.2 4.8-5.98c.1-.12.17-.25.22-.38.02-.06.04-.12.05-.18.05-.19.05-.4 0-.59m-7.43 2.99c.02.06.04.12.07.17-.04.08-.06.17-.03.26.12.24.23.46.38.68.08.11.16.23.24.34 0 .03.03.08.04.12.12.2.06.46-.15.59s-.47.05-.59-.15c-.01-.03-.02-.05-.03-.08-.02-.03-.04-.09-.06-.09-.05-.15-.09-.28-.12-.41-.09-.25-.17-.49-.3-.72a.375.375 0 0 0-.21-.14l-.08-.16c-1.29.48-2.7.48-3.97-.01l-.1.18c-.07.01-.14.04-.19.09-.14.24-.24.49-.33.77-.03.13-.07.26-.12.4-.02 0-.04.07-.06.1a.43.43 0 0 1-.81-.29c.01-.03.03-.05.04-.08.04-.03.04-.08.04-.11.09-.12.16-.23.24-.35.16-.21.29-.45.39-.69a.54.54 0 0 0-.03-.25l.07-.18a5.611 5.611 0 0 1-2.47-3.09l-.2.03a.388.388 0 0 0-.23-.09c-.27.05-.51.13-.77.22-.11.06-.24.11-.37.15-.03.01-.07.02-.13.03a.438.438 0 0 1-.54-.27c-.07-.23.04-.47.28-.55.02 0 .05-.01.08-.01v-.01h.01l.11-.02c.14-.04.28-.04.41-.04.26 0 .52-.06.77-.12.08-.05.14-.11.19-.19l.19-.05c-.21-1.36.1-2.73.86-3.87l-.14-.12c0-.09-.03-.18-.08-.25-.2-.17-.41-.32-.64-.45-.12-.06-.24-.13-.36-.21-.02-.02-.06-.05-.08-.07l-.01-.01c-.2-.16-.25-.42-.11-.63.09-.1.21-.15.35-.15.11.01.21.05.3.12l.09.07c.1.09.19.2.28.3.18.19.37.37.58.52.08.04.17.05.26.03l.15.11c.75-.8 1.73-1.36 2.8-1.6.25-.06.52-.1.78-.12l.01-.18a.45.45 0 0 0 .14-.23c.01-.26-.01-.52-.05-.77-.03-.13-.05-.27-.06-.41V5.1c-.02-.24.15-.45.39-.48s.44.15.47.38v.22c-.01.14-.03.28-.06.41-.04.25-.06.51-.05.77.02.1.07.17.14.22l.01.19c1.36.12 2.62.73 3.56 1.72l.16-.12c.09.02.18.01.26-.03.21-.15.41-.33.58-.52.09-.1.18-.2.28-.3.03-.02.07-.06.1-.06.17-.18.44-.18.59 0 .19.16.18.43 0 .6 0 .02-.03.04-.06.06a2.495 2.495 0 0 1-.44.28c-.23.13-.45.28-.64.45-.06.07-.09.15-.08.24l-.16.14a5.44 5.44 0 0 1 .88 3.86l.19.05c.04.08.11.14.19.18.25.07.51.11.77.14h.41c.03.03.08.04.12.05.24.03.4.25.37.49-.05.23-.24.4-.48.37-.03-.01-.07-.01-.07-.02v-.01c-.06 0-.1-.01-.14-.02-.13-.04-.25-.09-.36-.15-.26-.1-.5-.17-.77-.21-.09 0-.17 0-.23.08-.07-.01-.13-.02-.19-.03-.41 1.31-1.31 2.41-2.47 3.11Z"/></svg></span> pods<a class="headerlink" href="#pods" title="Permanent link">&para;</a></h3>
<p>Each pod is managed using its own <code>.yaml</code> file. This way K8s / K3s can declaratively set the resources, container, networking, volumes, and permissions for each running pod.</p>
<p>Create a new directory called <code>examples</code> on the JS2 workshop instance you have connected to.</p>
<p>Create a new file called <code>alpine.yaml</code> </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>apiVersion: v1
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>kind: Pod
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>metadata:
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>  name: alpine-&lt;change-this-to-your-username&gt;
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>spec:
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>  containers:
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>  - name: mypod
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>    image: alpine:3.14
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>    resources:
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>      limits:
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>        memory: 100Mi
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>        cpu: 100m
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>      requests:
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>        memory: 100Mi
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>        cpu: 100m
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>    command: [&quot;sh&quot;, &quot;-c&quot;, &quot;sleep infinity&quot;]
</code></pre></div>
<h4 id="launching-a-pod">Launching a Pod<a class="headerlink" href="#launching-a-pod" title="Permanent link">&para;</a></h4>
<p>Try launching a pod on the cluster</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>kubectl create -f alpine.yaml
</code></pre></div>
<p>Check to see that it is running</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>kubectl get pods
</code></pre></div>
<p>Do you see any other pods?</p>
<p>If the pod hasn't started yet, you can check the timestamp to see if it was created:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>kubectl get events --sort-by=.metadata.creationTimestamp
</code></pre></div>
<p>Try to connect to your running pod (container)</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>kubectl exec -it alpine-&lt;yourusername&gt; -- /bin/sh
</code></pre></div>
<h4 id="pod-networking">Pod networking<a class="headerlink" href="#pod-networking" title="Permanent link">&para;</a></h4>
<p>Let's check the networking inside the pod</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a># uncomment if ifconfig is not installed
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a># apk add net-tools
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>ifconfig -a
</code></pre></div>
<p>Exit the pod (<code>ctrl</code>^<code>D</code>)</p>
<p>Check the IP with <code>kubectl</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>kubectl get pod -o wide pod-&lt;yourname&gt;
</code></pre></div>
<h4 id="taking-down-a-pod">Taking down a Pod<a class="headerlink" href="#taking-down-a-pod" title="Permanent link">&para;</a></h4>
<p>Once you've exited the pod, delete it</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>kubectl delete -f pod1.yaml
</code></pre></div>
<p>double check that its gone</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>kubectl get pods
</code></pre></div>
<h2 id="create-a-deployment">Create a Deployment<a class="headerlink" href="#create-a-deployment" title="Permanent link">&para;</a></h2>
<p>While we can create and delete pods on our own, what we realy want is to make our containers have "high availability". </p>
<p>High availiability means that when a node dies or is restarted, the pod will "come back up" on its own.</p>
<p>First, we can create a <code>deployment.yaml</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>apiVersion: apps/v1
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>kind: Deployment
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>metadata:
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>  name: alpine-instructor-deployment
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>spec:
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>  replicas: 3 # Number of Pod replicas
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>  selector:
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>    matchLabels:
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>      app: alpine-instructor
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>  template:
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>    metadata:
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>      labels:
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>        app: alpine-instructor
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a>    spec:
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>      containers:
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a>      - name: mypod
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a>        image: alpine:3.14
<a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a>        resources:
<a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a>          limits:
<a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a>            memory: 100Mi
<a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a>            cpu: 100m
<a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a>          requests:
<a id="__codelineno-13-23" name="__codelineno-13-23" href="#__codelineno-13-23"></a>            memory: 100Mi
<a id="__codelineno-13-24" name="__codelineno-13-24" href="#__codelineno-13-24"></a>            cpu: 100m
<a id="__codelineno-13-25" name="__codelineno-13-25" href="#__codelineno-13-25"></a>        command: [&quot;sh&quot;, &quot;-c&quot;, &quot;sleep infinity&quot;]
</code></pre></div>
<p>This <code>deplyoment.yaml</code> will create three replicas of the given Pod, each with the specified `alpine`` image, resource limits, and command. You can adjust the number of replicas or other parameters as needed for your workshop demonstration.</p>
<p>To create the deployment using the provided YAML file, you can save the file to your local system (e.g., deployment.yaml) and then run the following kubectl command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>kubectl apply -f deployment.yaml
</code></pre></div>
<details class="question">
<summary>Why bother with Deployments?</summary>
<p><strong>High Availability</strong>: By running three replicas of the Pod, the application becomes more resilient to failures. If one Pod fails, the other two can continue to handle requests, ensuring that the application remains available.</p>
<p><strong>Load Balancing</strong>: Kubernetes automatically distributes incoming traffic across the replicas. This helps in evenly spreading the load, leading to better utilization of resources and potentially improved response times.</p>
<p><strong>Fault Tolerance</strong>: If a node in the cluster fails, the Pods running on that node will be lost. Having multiple replicas ensures that the application continues to run on the remaining nodes. Kubernetes will also work to reschedule the lost Pods on other available nodes.</p>
<p><strong>Scalability</strong>: Having multiple replicas allows the application to handle more simultaneous requests. If the load increases further, the number of replicas can be easily adjusted, either manually or through autoscaling.</p>
<p><strong>Rolling Updates and Rollbacks</strong>: Deployments in Kubernetes facilitate rolling updates, allowing you to update the application with zero downtime. If something goes wrong, you can also easily roll back to a previous version. The multiple replicas ensure that some instances of the application are always available during this process.</p>
<p><strong>Observability and Monitoring</strong>: With multiple replicas, you can monitor the behavior of the application across different instances and nodes, providing insights into the system's performance and potential issues.</p>
<p><strong>Consistent Environment</strong>: Each replica runs in an identical environment, ensuring consistency in the application's behavior and facilitating testing and debugging.</p>
<p>In summary, a deployment with three replicas enhances the availability, reliability, scalability, and manageability of the application within a Kubernetes cluster. It aligns well with best practices for running production-grade, distributed systems.</p>
</details>
<h2 id="run-a-dashboard">Run a Dashboard<a class="headerlink" href="#run-a-dashboard" title="Permanent link">&para;</a></h2>
<p><a href="https://upcloud.com/community/tutorials/deploy-kubernetes-dashboard/" target="_blank">UpCloud instructions</a></p>
<p>Once the cluster is up and running, you may choose to create a Dashboard for it</p>
<p>The Dashboard can only run from a <code>localhost</code> so we have to do an ssh tunnel to connect to it</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>ssh -L localhost:8001:127.0.0.1:8001 &lt;user&gt;@&lt;master_public_IP&gt;
</code></pre></div>
<p>start the dashboard</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v2.0.0/aio/deploy/recommended.yaml
</code></pre></div>
<p>check to see the dashboard pods are running</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>kubectl get pods -A
</code></pre></div>
<h4 id="create-an-admin-dashboard-user">create an <code>admin</code> dashboard user<a class="headerlink" href="#create-an-admin-dashboard-user" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>mkdir ~/dashboard &amp;&amp; cd ~/dashboard
</code></pre></div>
<p>create a <code>dashboard-admin.yaml</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>apiVersion: v1
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>kind: ServiceAccount
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>metadata:
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>  name: admin-user
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>  namespace: kubernetes-dashboard
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>---
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>apiVersion: rbac.authorization.k8s.io/v1
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>kind: ClusterRoleBinding
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>metadata:
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>  name: admin-user
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>roleRef:
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>  apiGroup: rbac.authorization.k8s.io
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a>  kind: ClusterRole
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a>  name: cluster-admin
<a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a>subjects:
<a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a>- kind: ServiceAccount
<a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a>  name: admin-user
<a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a>  namespace: kubernetes-dashboard
</code></pre></div>
<p>deploy</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>kubectl apply -f dashboard-admin.yaml
</code></pre></div>
<p>print the <code>admin</code> token so you can log into the dashboard</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>kubectl get secret -n kubernetes-dashboard $(kubectl get serviceaccount admin-user -n kubernetes-dashboard -o jsonpath=&quot;{.secrets[0].name}&quot;) -o jsonpath=&quot;{.data.token}&quot; | base64 --decode
</code></pre></div>
<h4 id="create-a-read-only-dashboard-read-onlyyaml-user">create a read-only <code>dashboard-read-only.yaml</code> user<a class="headerlink" href="#create-a-read-only-dashboard-read-onlyyaml-user" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>apiVersion: v1
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>kind: ServiceAccount
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>metadata:
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>  name: read-only-user
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>  namespace: kubernetes-dashboard
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>---
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>apiVersion: rbac.authorization.k8s.io/v1
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>kind: ClusterRole
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>metadata:
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a>  annotations:
<a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a>    rbac.authorization.kubernetes.io/autoupdate: &quot;true&quot;
<a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a>  labels:
<a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a>  name: read-only-clusterrole
<a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a>  namespace: default
<a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a>rules:
<a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a>- apiGroups:
<a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a>  - &quot;&quot;
<a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a>  resources: [&quot;*&quot;]
<a id="__codelineno-22-19" name="__codelineno-22-19" href="#__codelineno-22-19"></a>  verbs:
<a id="__codelineno-22-20" name="__codelineno-22-20" href="#__codelineno-22-20"></a>  - get
<a id="__codelineno-22-21" name="__codelineno-22-21" href="#__codelineno-22-21"></a>  - list
<a id="__codelineno-22-22" name="__codelineno-22-22" href="#__codelineno-22-22"></a>  - watch
<a id="__codelineno-22-23" name="__codelineno-22-23" href="#__codelineno-22-23"></a>- apiGroups:
<a id="__codelineno-22-24" name="__codelineno-22-24" href="#__codelineno-22-24"></a>  - extensions
<a id="__codelineno-22-25" name="__codelineno-22-25" href="#__codelineno-22-25"></a>  resources: [&quot;*&quot;]
<a id="__codelineno-22-26" name="__codelineno-22-26" href="#__codelineno-22-26"></a>  verbs:
<a id="__codelineno-22-27" name="__codelineno-22-27" href="#__codelineno-22-27"></a>  - get
<a id="__codelineno-22-28" name="__codelineno-22-28" href="#__codelineno-22-28"></a>  - list
<a id="__codelineno-22-29" name="__codelineno-22-29" href="#__codelineno-22-29"></a>  - watch
<a id="__codelineno-22-30" name="__codelineno-22-30" href="#__codelineno-22-30"></a>- apiGroups:
<a id="__codelineno-22-31" name="__codelineno-22-31" href="#__codelineno-22-31"></a>  - apps
<a id="__codelineno-22-32" name="__codelineno-22-32" href="#__codelineno-22-32"></a>  resources: [&quot;*&quot;]
<a id="__codelineno-22-33" name="__codelineno-22-33" href="#__codelineno-22-33"></a>  verbs:
<a id="__codelineno-22-34" name="__codelineno-22-34" href="#__codelineno-22-34"></a>  - get
<a id="__codelineno-22-35" name="__codelineno-22-35" href="#__codelineno-22-35"></a>  - list
<a id="__codelineno-22-36" name="__codelineno-22-36" href="#__codelineno-22-36"></a>  - watch
<a id="__codelineno-22-37" name="__codelineno-22-37" href="#__codelineno-22-37"></a>---
<a id="__codelineno-22-38" name="__codelineno-22-38" href="#__codelineno-22-38"></a>apiVersion: rbac.authorization.k8s.io/v1
<a id="__codelineno-22-39" name="__codelineno-22-39" href="#__codelineno-22-39"></a>kind: ClusterRoleBinding
<a id="__codelineno-22-40" name="__codelineno-22-40" href="#__codelineno-22-40"></a>metadata:
<a id="__codelineno-22-41" name="__codelineno-22-41" href="#__codelineno-22-41"></a>  name: read-only-binding
<a id="__codelineno-22-42" name="__codelineno-22-42" href="#__codelineno-22-42"></a>roleRef:
<a id="__codelineno-22-43" name="__codelineno-22-43" href="#__codelineno-22-43"></a>  kind: ClusterRole
<a id="__codelineno-22-44" name="__codelineno-22-44" href="#__codelineno-22-44"></a>  name: read-only-clusterrole
<a id="__codelineno-22-45" name="__codelineno-22-45" href="#__codelineno-22-45"></a>  apiGroup: rbac.authorization.k8s.io
<a id="__codelineno-22-46" name="__codelineno-22-46" href="#__codelineno-22-46"></a>subjects:
<a id="__codelineno-22-47" name="__codelineno-22-47" href="#__codelineno-22-47"></a>- kind: ServiceAccount
<a id="__codelineno-22-48" name="__codelineno-22-48" href="#__codelineno-22-48"></a>  name: read-only-user
<a id="__codelineno-22-49" name="__codelineno-22-49" href="#__codelineno-22-49"></a>  namespace: kubernetes-dashboard
</code></pre></div>
<p>deploy it</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>kubectl apply -f dashboard-read-only.yaml
</code></pre></div>
<p>print read-only token</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>kubectl get secret -n kubernetes-dashboard $(kubectl get serviceaccount read-only-user -n kubernetes-dashboard -o jsonpath=&quot;{.secrets[0].name}&quot;) -o jsonpath=&quot;{.data.token}&quot; | base64 --decode
</code></pre></div>
<h4 id="start-the-dashboard">Start the dashboard<a class="headerlink" href="#start-the-dashboard" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>kubectl proxy
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:/proxy/
</code></pre></div>
<p>Copy/Paste your admin or read-only token</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>kubectl -n kubernetes-dashboard create token admin-user
</code></pre></div>
<h4 id="delete-the-dashboard">delete the dashboard<a class="headerlink" href="#delete-the-dashboard" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>kubectl delete -f dashboard-admin.yaml
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>kubectl delete -f dashboard-read-only.yaml
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>kubectl delete -f https://raw.githubusercontent.com/kubernetes/dashboard/v2.0.0/aio/deploy/recommended.yaml
</code></pre></div>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    2023-12-14
  </span>

    
    
    
    
  </aside>


  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2019-2023 CyVerse
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://orcid.org/" target="_blank" rel="noopener" title="orcid.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M294.75 188.19h-45.92V342h47.47c67.62 0 83.12-51.34 83.12-76.91 0-41.64-26.54-76.9-84.67-76.9zM256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm-80.79 360.76h-29.84v-207.5h29.84zm-14.92-231.14a19.57 19.57 0 1 1 19.57-19.57 19.64 19.64 0 0 1-19.57 19.57zM300 369h-81V161.26h80.6c76.73 0 110.44 54.83 110.44 103.85C410 318.39 368.38 369 300 369z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/cyverse-learning-material/" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/cyverseorg" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/cyverse.org" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://harbor.cyverse.org/" target="_blank" rel="noopener" title="harbor.cyverse.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.youtube.com/c/CyverseOrgProject" target="_blank" rel="noopener" title="www.youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.top"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
    
  </body>
</html>